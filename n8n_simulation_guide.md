# n8n Workflow Simulation Setup Guide

## Overview
This guide provides step-by-step instructions to set up and run the AutoParts Inc. AI Agent simulation in n8n.

## Prerequisites
1. Access to n8n platform (cloud or self-hosted)
2. Basic understanding of workflow automation
3. Webhook testing tool (like Postman or curl)

## Setup Instructions

### 1. Import Workflow
1. Open your n8n instance
2. Click "Import from File" or "Import from URL"
3. Select the `n8n_workflow_simulation.json` file from this repository
4. The workflow will be imported with all nodes and connections

### 2. Activate Webhooks
The workflow includes three webhook triggers:
- **Quality Control Webhook:** `/quality-control`
- **Maintenance Data Webhook:** `/predictive-maintenance` 
- **Production Optimization Webhook:** `/production-optimization`

Make note of the webhook URLs generated by n8n for testing.

### 3. Test Quality Control Agent

Send a POST request to the quality control webhook:

```json
{
  "productId": "AP-12345",
  "productType": "precision_component",
  "imageBase64": "base64_encoded_image_data"
}
```

**Expected Response:**
- Quality assessment with pass/fail recommendation
- Confidence score and defect analysis
- Automatic alerts for defective items

### 4. Test Predictive Maintenance Agent

Send a GET request to the maintenance webhook:

```json
{
  "machineId": "MACHINE_001",
  "sensorData": {
    "timestamp": "2025-12-03T10:30:00Z"
  }
}
```

**Expected Response:**
- Sensor readings simulation
- Failure probability calculation
- Maintenance recommendations and scheduling

### 5. Test Production Optimization Agent

Send a POST request to the production webhook:

```json
{
  "timestamp": "2025-12-03T10:30:00Z",
  "productionRequest": {
    "priority": "normal"
  }
}
```

**Expected Response:**
- Production metrics analysis
- Resource optimization recommendations
- Delivery timeline improvements

## Simulation Features

### Real-time Processing
- All agents process data in real-time
- Immediate responses to webhook triggers
- Simulated sensor data and analysis results

### Integrated Dashboard
- Aggregated data from all three agents
- System health monitoring
- Key performance indicators tracking

### Alert System
- Email notifications for critical issues
- Escalation for high-priority maintenance
- Quality issue immediate alerts

### Decision Making
- Automated routing based on conditions
- Multi-criteria decision algorithms
- Integrated workflow coordination

## Test Scenarios

### Scenario 1: Quality Issue Detection
1. Send quality control request with simulated defect
2. Observe automatic rejection and alert generation
3. Check dashboard aggregation of quality metrics

### Scenario 2: Maintenance Alert
1. Send maintenance data triggering high failure probability
2. Observe urgent maintenance scheduling
3. Check alert notification system activation

### Scenario 3: Production Optimization
1. Send production request during high-demand period
2. Observe dynamic scheduling recommendations
3. Check resource allocation optimization

## Data Flow Visualization

```
Webhook Input → Agent Processing → Decision Logic → Alert System → Dashboard Update
      ↓               ↓                ↓              ↓            ↓
  Raw Data    →  AI Analysis  →   Recommendations → Notifications → Metrics
```

## Monitoring and Debugging

### Workflow Execution
- Monitor workflow executions in n8n dashboard
- Check execution logs for debugging
- Review data transformations between nodes

### Performance Metrics
- Response times for each agent
- Success/failure rates
- Alert generation frequency

### Error Handling
- Built-in error handling for each agent
- Graceful degradation for partial failures
- Retry mechanisms for critical operations

## Customization Options

### Agent Parameters
- Adjust quality thresholds in Quality Control Agent
- Modify failure probability calculations in Maintenance Agent
- Customize optimization algorithms in Production Agent

### Alert Configuration
- Configure email recipients for different alert types
- Adjust alert thresholds and priorities
- Customize notification templates

### Dashboard Metrics
- Add custom KPIs to dashboard aggregation
- Modify data visualization requirements
- Integrate with external monitoring systems

## Advanced Features

### Integration Points
- ERP system integration simulation
- CMMS system connection mockup
- Customer notification system integration

### Scalability Testing
- Multiple concurrent webhook requests
- Load testing with batch operations
- Performance optimization validation

### Data Analytics
- Historical data trend analysis
- Predictive model accuracy tracking
- ROI calculation automation

## Troubleshooting

### Common Issues
1. **Webhook not responding:** Check n8n workflow activation status
2. **Missing data in responses:** Verify input JSON structure
3. **Alerts not sending:** Check email configuration in n8n settings

### Debug Steps
1. Check workflow execution history
2. Review individual node outputs
3. Validate input data formats
4. Test webhook endpoints individually

## Support and Documentation

### n8n Resources
- [n8n Documentation](https://docs.n8n.io/)
- [Workflow Examples](https://n8n.io/workflows/)
- [Community Forum](https://community.n8n.io/)

### Project Resources
- `Technical_Architecture.md` - System design details
- `Implementation_Timeline.md` - Deployment planning
- `ROI_Analysis.md` - Business case validation

## Next Steps

### After Testing
1. Document test results and observations
2. Validate against expected ROI projections
3. Plan for production deployment
4. Establish monitoring and maintenance procedures

### Production Considerations
1. Security hardening for production webhooks
2. Database integration for persistent storage
3. Authentication and authorization implementation
4. Performance optimization and scaling

---

**Note:** This simulation demonstrates the core concepts and workflows of the proposed AI Agent system. In production, these agents would integrate with real sensors, cameras, and enterprise systems for complete functionality.